<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Online Store</title>
    <style>
      body {
          font-family: Arial, sans-serif;
          margin: 0;
          padding: 0;
          background-color: #f4f4f4;
      }
  
      header {
          background-color: #333;
          color: white;
          padding: 1.5em;
          text-align: center;
      }
  
      h2 {
          font-size: 1.8em;
          margin-bottom: 1em;
          color: #333;
          text-transform: uppercase;
          letter-spacing: 1px;
          font-weight: bold;
      }
  
      main {
          display: flex;
          flex-wrap: wrap;
          justify-content: space-around;
          padding: 2em;
      }
  
      .category {
          margin: 2em 0;
      }
  
      main {
    display: flex;
    flex-direction: column; /* ØªØ±ØªÙŠØ¨ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø¹Ù…ÙˆØ¯ÙŠÙ‹Ø§ (Ø£Ø³ÙÙ„ Ø¨Ø¹Ø¶Ù‡Ø§) */
    align-items: flex-start; /* Ù…Ø­Ø§Ø°Ø§Ø© Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø¥Ù„Ù‰ Ø£Ù‚ØµÙ‰ Ø§Ù„ÙŠØ³Ø§Ø± */
    padding: 0.2em;
}

.product {
    background-color: white;
    width: 200px; /* ØªØµØºÙŠØ± Ø§Ù„Ø¹Ø±Ø¶ Ø¨Ù†Ø³Ø¨Ø© 30% */
    margin: 0.7em 0; /* ØªØµØºÙŠØ± Ø§Ù„Ù…Ø³Ø§ÙØ© Ø¨ÙŠÙ† Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø¨Ù†Ø³Ø¨Ø© 30% */
    padding: 0.7em; /* ØªØµØºÙŠØ± Ø§Ù„Ø­Ø´Ùˆ Ø¨Ù†Ø³Ø¨Ø© 30% */
    border-radius: 10px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    text-align: center;
    transition: transform 0.3s ease;
}

.product:hover {
    transform: translateY(-10px);
}
  
      .product img {
          max-width: 100%;
          border-radius: 8px;
          margin-bottom: 1em;
      }
  
      .product-name {
          font-size: 1.2em;
          color: #333;
          margin-bottom: 0.5em;
          font-weight: bold;
      }
  
      .product-price {
          font-size: 1.1em;
          color: #e74c3c;
          margin-bottom: 1em;
      }
  
      .add-to-cart {
          background-color: #3498db;
          color: white;
          border: none;
          padding: 0.7em 1.5em;
          border-radius: 5px;
          cursor: pointer;
          transition: background-color 0.3s ease;
      }
  
      .add-to-cart:hover {
          background-color: #2980b9;
      }
  
      .cart {
          position: fixed;
          top: 0;
          right: 0;
          background-color: white;
          border: 1px solid #ccc;
          padding: 1em;
          max-width: 300px;
          height: 80%;
          overflow-y: auto;
          box-shadow: -2px 0px 10px rgba(0, 0, 0, 0.1);
      }
  
      .cart-item {
          margin-bottom: 1em;
          display: flex;
          justify-content: space-between;
          align-items: center;
      }
  
      .cart-item button {
          background-color: red;
          color: white;
          border: none;
          cursor: pointer;
          padding: 0.2em 0.5em;
      }
  
      .share-button {
          background-color: #25D366;
          color: white;
          border: none;
          padding: 0.5em 1em;
          cursor: pointer;
      }
  
      .popup {
          display: none;
          position: fixed;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          background-color: white;
          border: 1px solid #ccc;
          padding: 1em;
          box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
          border-radius: 8px;
      }
  
      .popup input {
          margin-bottom: 1em;
          width: 100%;
          padding: 0.5em;
      }
  
      .popup button {
          margin-right: 0.5em;
      }
      /* Ø¥Ø¹Ø¯Ø§Ø¯ Ø¹Ø§Ù… Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø£Ø²Ø±Ø§Ø± ÙˆØ§Ù„Ù…Ø­ØªÙˆÙ‰ */
.product {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    margin: 20px;
    border: 1px solid #ddd;
    padding: 20px;
    border-radius: 10px;
    background-color: #f9f9f9;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

.product:hover {
    transform: scale(1.05);
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
}

/* ØªØµÙ…ÙŠÙ… ØµÙˆØ±Ø© Ø§Ù„Ù…Ù†ØªØ¬ */
.product img {
    max-width: 100%;
    height: auto;
    border-radius: 10px;
    margin-bottom: 15px;
}

/* ØªØµÙ…ÙŠÙ… ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬ */
.product .product-details {
    margin-bottom: 15px;
}

/* Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø®Ø§ØµØ© Ø¨Ø§Ù„ÙƒÙ…ÙŠØ© */
.quantity-controls {
    display: flex;
    justify-content: center;
    align-items: center;
    margin-top: 15px;
}

/* ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø£Ø²Ø±Ø§Ø± + Ùˆ - */
.quantity-controls button {
    padding: 12px;
    font-size: 20px;
    background-color: transparent;
    border: 2px solid transparent;
    border-radius: 50%;
    margin: 0 10px;
    cursor: pointer;
    transition: transform 0.3s ease, background-color 0.3s ease, border-color 0.3s ease;
}

/* ØªØ£Ø«ÙŠØ± Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø²Ø±Ø§Ø± */
.quantity-controls button:hover {
    transform: scale(1.2);
    background-color: rgba(0, 123, 255, 0.1);
    border-color: #007bff;
}

/* ØªÙ†Ø³ÙŠÙ‚ Ø­Ù‚Ù„ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„ÙƒÙ…ÙŠØ© */
.quantity-controls input {
    width: 70px;
    height: 40px;
    font-size: 18px;
    text-align: center;
    border-radius: 5px;
    border: 1px solid #ddd;
    margin: 0 10px;
    padding: 5px;
    transition: border-color 0.3s ease;
}

/* ØªØºÙŠÙŠØ± Ø§Ù„Ø­Ø¯ÙˆØ¯ Ø¹Ù†Ø¯ Ø§Ù„ØªØ±ÙƒÙŠØ² Ø¹Ù„Ù‰ Ø­Ù‚Ù„ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„ÙƒÙ…ÙŠØ© */
.quantity-controls input:focus {
    border-color: #007bff;
    outline: none;
}

/* ØªØµÙ…ÙŠÙ… Ø²Ø± Ø¥Ø¶Ø§ÙØ© Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø© */
.add-to-cart-btn {
    background: linear-gradient(90deg, #007bff, #00aaff, #007bff);
    color: white;
    padding: 14px 30px;
    border: none;
    border-radius: 25px;
    font-size: 20px;
    cursor: pointer;
    transition: transform 0.3s ease, background-color 0.3s ease;
    margin-top: 20px;
    width: 100%;
    text-transform: uppercase;
}

/* ØªØºÙŠÙŠØ± Ø§Ù„Ù„ÙˆÙ† Ø¹Ù†Ø¯ Ù…Ø±ÙˆØ± Ø§Ù„Ù…Ø§ÙˆØ³ Ø¹Ù„Ù‰ Ø²Ø± Ø¥Ø¶Ø§ÙØ© Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø© */
.add-to-cart-btn:hover {
    background: linear-gradient(90deg, #0066cc, #0099cc, #0066cc);
    transform: scale(1.1);
}

/* Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø²Ø± "Add to Cart" Ø¹Ù†Ø¯Ù…Ø§ ØªØ¸Ù‡Ø± Ø£Ø¯ÙˆØ§Øª Ø§Ù„ÙƒÙ…ÙŠØ© */
.quantity-controls.show {
    display: block !important;
}

/* Ø¥Ø®ÙØ§Ø¡ Ø£Ø¯ÙˆØ§Øª Ø§Ù„ÙƒÙ…ÙŠØ© Ø¹Ù†Ø¯ Ø¨Ø¯Ø¡ Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬ */
.quantity-controls {
    display: none;
}

/* ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø³Ù„Ø© ÙÙŠ ØµÙØ­Ø© Ø§Ù„ÙƒØ§Ø±Øª */
.cart-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid #ddd;
    padding: 10px 0;
    font-size: 16px;
    color: #333;
}

.cart-item .cart-quantity {
    width: 60px;
    text-align: center;
    padding: 5px;
    font-size: 16px;
    border: 1px solid #ddd;
    border-radius: 5px;
}

.cart-item button {
    background-color: #f44336;
    color: white;
    border: none;
    padding: 5px 10px;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s ease;
}

.cart-item button:hover {
    background-color: #e53935;
}

.cart-total {
    font-size: 20px;
    font-weight: bold;
    text-align: right;
    margin-top: 20px;
}

/* ØªØµÙ…ÙŠÙ… Ø§Ù„Ø­Ø§ÙØ© Ø§Ù„Ø¬Ù…Ø§Ù„ÙŠØ© Ù„Ù…Ø±Ø¨Ø¹ Ø§Ù„Ù†Øµ */
.product .product-details strong {
    font-size: 18px;
    font-weight: bold;
    color: #333;
}

  </style>
  </head>
  <body>
    <header>
        <h1>Online Store</h1>
    </header>
    <main id="main-content">
        <div id="categories">
            <!-- Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙŠØªÙ… Ø¹Ø±Ø¶Ù‡Ø§ Ù‡Ù†Ø§ -->
        </div>
    </main>

    <div class="cart" id="cart">
        <h2>Cart</h2>
        <div id="cart-items"></div>
        <button class="share-button" id="checkout-button">Checkout</button>
    </div>

    <div class="buttons-container">
        <button class="button button-cart" id="toggle-cart">Ø¹Ø±Ø¶ Ø§Ù„Ø³Ù„Ø©</button>
        <button class="button button-home" id="go-home">Ø§Ù„Ø±Ø¬ÙˆØ¹ Ù„Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
    </div>

<script>
const categoriesContainer = document.getElementById('categories');
const cartContainer = document.getElementById('cart');
const cartItemsContainer = document.getElementById('cart-items');
const checkoutButton = document.getElementById('checkout-button');
const popup = document.getElementById('popup');
const confirmButton = document.getElementById('confirm-button');
const cancelButton = document.getElementById('cancel-button');

const toggleCartButton = document.getElementById('toggle-cart');
const goHomeButton = document.getElementById('go-home');

const customerNameInput = document.getElementById('customer-name');
const customerPhoneInput = document.getElementById('customer-phone');

let products = [];
let cart = JSON.parse(localStorage.getItem('cart')) || [];

// ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù…Ù† test.txt
fetch('test.txt')
    .then(response => response.text())
    .then(data => {
        const lines = data.split('\n');
        lines.forEach(line => {
            const parts = line.split('/');
            if (parts.length >= 4) {
                const imageUrl = parts.slice(3).join('/').trim();
                products.push({
                    category: parts[0].trim(),
                    name: parts[1].trim(),
                    price: parseFloat(parts[2].trim()),
                    image: imageUrl
                });
            }
        });
        renderCategories();
        renderCart();
    })
    .catch(error => console.error('Error loading products:', error));

// Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø­Ø³Ø¨ Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª
function renderCategories() {
    categoriesContainer.innerHTML = '';
    const categories = [...new Set(products.map(p => p.category))];
    categories.forEach(category => {
        const categoryDiv = document.createElement('div');
        categoryDiv.className = 'category';

        const categoryTitle = document.createElement('h2');
        categoryTitle.textContent = category;
        categoryDiv.appendChild(categoryTitle);

        const categoryProducts = products.filter(p => p.category === category);
        categoryProducts.forEach(product => {
            const productDiv = document.createElement('div');
            productDiv.className = 'product';

            const productImage = document.createElement('img');
            productImage.src = product.image;
            productImage.alt = product.name;
            productImage.onerror = () => {
                productImage.src = 'default-image.jpg';
            };

            productDiv.appendChild(productImage);

            const productDetails = document.createElement('div');
            productDetails.innerHTML = `<strong>${product.name}</strong><br>Price: ${product.price.toFixed(2)} $`;
            productDiv.appendChild(productDetails);

            const addToCartButton = document.createElement('button');
            addToCartButton.textContent = 'Add to Cart';
            addToCartButton.onclick = () => {
                addToCart(product, 1);
            };
            productDiv.appendChild(addToCartButton);

            categoryDiv.appendChild(productDiv);
        });

        categoriesContainer.appendChild(categoryDiv);
    });
}

// Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø³Ù„Ø©
function renderCart() {
    cartItemsContainer.innerHTML = '';
    let total = 0;

    cart.forEach(item => {
        const cartItemDiv = document.createElement('div');
        cartItemDiv.className = 'cart-item';

        const itemDetails = document.createElement('div');
        itemDetails.innerHTML = `
            <strong>${item.name}</strong><br>
            Price: ${item.price.toFixed(2)} $<br>
            Quantity: ${item.quantity}
        `;
        cartItemDiv.appendChild(itemDetails);

        const removeButton = document.createElement('button');
        removeButton.textContent = 'X';
        removeButton.onclick = () => removeFromCart(item.name);
        cartItemDiv.appendChild(removeButton);

        total += item.price * item.quantity;
        cartItemsContainer.appendChild(cartItemDiv);
    });

    const totalDiv = document.createElement('div');
    totalDiv.className = 'cart-total';
    totalDiv.innerHTML = `<strong>Total: ${total.toFixed(2)} $</strong>`;
    cartItemsContainer.appendChild(totalDiv);
}

// Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©
function addToCart(product, quantity) {
    const existingProduct = cart.find(item => item.name === product.name);
    if (existingProduct) {
        existingProduct.quantity += quantity;
    } else {
        cart.push({ ...product, quantity });
    }
    saveCart();
    renderCart();
}

// Ø¥Ø²Ø§Ù„Ø© Ù…Ù†ØªØ¬ Ù…Ù† Ø§Ù„Ø³Ù„Ø©
function removeFromCart(productName) {
    cart = cart.filter(item => item.name !== productName);
    saveCart();
    renderCart();
}

// Ø­ÙØ¸ Ø§Ù„Ø³Ù„Ø© ÙÙŠ localStorage
function saveCart() {
    localStorage.setItem('cart', JSON.stringify(cart));
}

// Ø§Ù„ØªÙØ§Ø¹Ù„ Ù…Ø¹ Ø§Ù„Ø£Ø²Ø±Ø§Ø± ÙÙŠ Ø§Ù„Ø£Ø¹Ù„Ù‰
toggleCartButton.addEventListener('click', () => {
    cartContainer.style.display = cartContainer.style.display === 'block' ? 'none' : 'block';
});

goHomeButton.addEventListener('click', () => {
    categoriesContainer.scrollIntoView({ behavior: 'smooth' });
});

// Ø§Ù„ØªÙØ§Ø¹Ù„ Ù…Ø¹ Ø²Ø± Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø·Ù„Ø¨
checkoutButton.onclick = () => {
    popup.style.display = 'block';
};

// ØªÙ†ÙÙŠØ° Ø§Ù„Ø·Ù„Ø¨ Ø¹Ø¨Ø± Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨
confirmButton.onclick = () => {
    const customerName = customerNameInput.value;
    const customerPhone = customerPhoneInput.value;

    if (!customerName || !customerPhone) {
        alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø§Ø³Ù… ÙˆØ±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ.');
        return;
    }

    let text = `â­ï¸ Shehadeh Centre â­ï¸\n\nğŸ‘¤ Ø§Ù„Ø§Ø³Ù…: ${customerName}\nâ˜ï¸ Ø§Ù„Ù‡Ø§ØªÙ: ${customerPhone}\n\nğŸ›’ Ø§Ù„Ø·Ù„Ø¨:\n`;

    let total = 0;
    cart.forEach(item => {
        text += `${item.name}: ${item.quantity}x${item.price.toFixed(2)} $\n`;
        total += item.price * item.quantity;
    });

    text += `\nğŸ’° Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${total.toFixed(2)} $\nØ´ÙƒØ±Ù‹Ø§ Ù„ØªØ³ÙˆÙ‚ÙƒÙ… Ù…Ø¹Ù†Ø§! ğŸ™`;
    const whatsappURL = `https://wa.me/972566888825?text=${encodeURIComponent(text)}`;
    window.open(whatsappURL, '_blank');

    cart = [];
    saveCart();
    renderCart();
    popup.style.display = 'none';
};

cancelButton.onclick = () => {
    popup.style.display = 'none';
};
</script>
      </body>
</html>
